<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">

</head>
<body>
    <div class="button-container">
        <button id="rock" class="button">ROCK</button>
        <button id="paper" class="button">PAPER</button>
        <button id="scissors" class="button">SCISSORS</button>
    </div>
    <div class="wynik">
         <div id="score"></div>
    </div>
    <script>
        
        let playerScore = 0;
        let computerScore = 0;
        const maxScore = 5;


       function getComputerChoice() {
            let x = Math.floor((Math.random() * 3 ) +1 );
            let computerChoice;
            if (x === 1) {
                 return computerChoice = "ROCK";
            } else if (x === 2) {
                 return computerChoice = "PAPER";
            } else {
                return computerChoice = "SCISSORS";
            }
            console.log("Computer selection is: " + computerChoice);
        }
        
        
        let computerSelection = getComputerChoice();

        function playRound(playerSelection, computerSelection) {
            let resultDiv = document.getElementById('score');
            let scoreMessage;


            if (playerSelection == computerSelection) {
                scoreMessage = "Its a Tie!";
            } else if (playerSelection == "ROCK" && computerSelection == "SCISSORS") {
                scoreMessage = "Player wins! Rock beats scissors!";
                playerScore++;
            } else if (playerSelection == "ROCK" && computerSelection == "PAPER") {
                scoreMessage = "Computer wins! Paper beats rock!";
                computerScore++;
            } else if (playerSelection == "PAPER" && computerSelection == "ROCK")
            {
                scoreMessage = "Player wins! Paper beats a rock!";
                playerScore++;
            } else if (playerSelection == "PAPER" && computerSelection == "SCISSORS") {
                scoreMessage = "Computer wins! Scissors beats paper!"
                computerScore++;
            } else if (playerSelection == "SCISSORS" && computerSelection == "ROCK") {
                scoreMessage = "Computer wins! Rock beats scissors!"; 
                computerScore++;
            } else if (playerSelection == "SCISSORS" && computerSelection == "PAPER") {
                scoreMessage = "Player wins! Scissors beats paper!";
                playerScore++;
            }

            resultDiv.textContent = scoreMessage + "  Player score: " + playerScore + "  Computer score: " + computerScore;

            if(playerScore >= maxScore || computerScore >= maxScore) {
                if(playerScore > computerScore) {
                    resultDiv.textContent = "Player won the whole game! Player score: " + playerScore + " Computer score: " +computerScore;
              } else if (computerScore > playerScore) {
                resultDiv.textContent = "Computer won the whole game! Player score: " + playerScore + " Computer score: " +computerScore;
              } else {
                resultDiv.textContent = scoreMessage;
              }
             }
 }

        const rockButton = document.getElementById('rock');
        const paperButton = document.getElementById('paper');
        const scissorsButton = document.getElementById('scissors');

        rockButton.addEventListener('click', function() {
            let computerSelection = getComputerChoice();
            playRound('ROCK', computerSelection);
        });

        paperButton.addEventListener('click', function() {
            let computerSelection = getComputerChoice();
            playRound('PAPER', computerSelection);
        });

        scissorsButton.addEventListener('click', function(){
            let computerSelection = getComputerChoice();
            playRound('SCISSORS', computerSelection);
        });

    
     

        


        

        


    </script>
    
</body>
</html>